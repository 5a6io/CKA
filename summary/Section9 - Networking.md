# ğŸ¨ Section9 - Networking

## Prerequisite -Switching Routing


`ip link` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ìŠ¤ìœ„ì¹˜ì— ì—°ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ë ¤ëŠ” Eth0ë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ì¸í„°í˜ì´ìŠ¤ê°€ ë³´ì„.


192.168.1.0 ì´ë¼ëŠ” ì£¼ì†Œë¥¼ ê°€ì§„ ë„¤íŠ¸ì›Œí¬ë¼ê³  ê°€ì •. ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— IP ì£¼ì†Œë¥¼ ê°€ì§„ ì‹œìŠ¤í…œì„ í• ë‹¹. `ip addr` ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©.


linkê°€ ì˜¬ë¼ì˜¤ê³  IP ì£¼ì†Œê°€ í• ë‹¹ë˜ë©´ ì»´í“¨í„°ëŠ” ìŠ¤ìœ„ì¹˜ë¥¼ í†µí•´ ë‹¤ë¥¸ í˜¸ìŠ¤íŠ¸ì™€ í†µì‹ í•  ìˆ˜ ìˆìŒ.


ìŠ¤ìœ„ì¹˜ëŠ” ë„¤íŠ¸ì›Œí¬ ë‚´ì˜ í†µì‹ ë§Œ ê°€ëŠ¥í•˜ê²Œ í•˜ë¯€ë¡œ ë„¤íŠ¸ì›Œí¬ì—ì„œ í˜¸ìŠ¤íŠ¸ë¡œë¶€í„° íŒ¨í‚·ì„ ë°›ì„ ìˆ˜ ìˆê³  ê°™ì€ ë„¤íŠ¸ì›Œí¬ ë‚´ ë‹¤ë¥¸ ì‹œìŠ¤í…œì— ë³´ë‚¼ ìˆ˜ ìˆìŒ.


192.168.2.0ì— ì‹œìŠ¤í…œ Cì™€ Dë¥¼ í¬í•¨í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ê°€ ìˆë‹¤ê³  ê°€ì •. ì‹œìŠ¤í…œì€ 192.168.2.10ê³¼ 192.168.2.11ì„ ê°ê° ê°€ì§.


192.168.1.11ì„ ê°€ì§„ ì‹œìŠ¤í…œ Bì— ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ì˜ 192.168.2.10ì„ ê°€ì§„ ì‹œìŠ¤í…œ Cê°€ ë„ë‹¬í•˜ë ¤ë©´? ë¼ìš°í„°ê°€ ìˆì–´ì•¼ í•¨.


ë¼ìš°í„°ëŠ” ë‘ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì‹œí‚¤ë„ë¡ í•¨.


ë§ì€ ë„¤íŠ¸ì›Œí¬ í¬íŠ¸ë¥¼ ê°€ì§„ ë˜ ë‹¤ë¥¸ ì„œë²„ê°€ ìˆë‹¤ê³  ê°€ì •. ë‘ ê°œì˜ ê°œë³„ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë˜ê¸° ë•Œë¬¸ì— ê° ë„¤íŠ¸ì›Œí¬ì— ê°ê° ë‘ ê°œì˜ IPê°€ í• ë‹¹ë¨.


ì²« ë²ˆì§¸ ë„¤íŠ¸ì›Œí¬ëŠ” 192.168.1.1ì„ í• ë‹¹. ë‘ ë²ˆì§¸ëŠ” 192.168.2.1ì„ í• ë‹¹. ì´ì œ ë‘ ë„¤íŠ¸ì›Œí¬ê°€ í†µì‹ ì´ ê°€ëŠ¥í•˜ë„ë¡ ì—°ê²°ëœ ë¼ìš°í„°ê°€ ìˆìŒ.


ì‹œìŠ¤í…œ Bê°€ ì‹œìŠ¤í…œ Cë¡œ íŒ¨í‚·ì„ ë³´ë‚´ë ¤ê³  í•  ë•Œ, íŒ¨í‚·ì„ ì „ì†¡í•˜ê¸° ìœ„í•´ ë¼ìš°í„°ê°€ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì–´ë””ì— ìˆëŠ”ì§€ ì–´ë–»ê²Œ ì•Œ ìˆ˜ ìˆëŠ”ê°€? ë¼ìš°í„°ëŠ” ë„¤íŠ¸ì›Œí¬ì˜ ë˜ ë‹¤ë¥¸ ì¥ì¹˜ì„. ì´ì™€ ê°™ì€ ë§ì€ ê¸°ê¸°ê°€ ìˆì„ ê²ƒ. gatewayë‚˜ routeë¥¼ ê°€ì§€ê³  ì‹œìŠ¤í…œì„ êµ¬ì„±.


ë„¤íŠ¸ì›Œí¬ê°€ ë°©ì´ë¼ë©´ ê²Œì´íŠ¸ì›¨ì´ëŠ” ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë‚˜ ì¸í„°ë„·ìœ¼ë¡œ ê°€ëŠ” ì™¸ë¶€ ì„¸ê²Œë¡œ í†µí•˜ëŠ” ë¬¸.


ì‹œìŠ¤í…œì€ í†µê³¼í•˜ë ¤ë©´ ë¬¸ì´ ì–´ë””ì— ìˆëŠ”ì§€ ì•Œì•„ì•¼ í•¨. ì‹œìŠ¤í…œì— ì¡´ì¬í•˜ëŠ” ë¼ìš°íŒ… êµ¬ì„±ì„ ë³´ë ¤ë©´ `route` ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰. ì»¤ë„ì˜ ë¼ìš°íŒ… í…Œì´ë¸”ì´ ë³´ì„. í˜„ì¬ëŠ” ë¼ìš°íŒ… êµ¬ì„±ì´ ì—†ìŒ. ë”°ë¼ì„œ ì‹œìŠ¤í…œ Bê°€ ì‹œìŠ¤í…œ Cì— ë„ë‹¬í•  ìˆ˜ ì—†ìŒ.


ì‹œìŠ¤í…œ Bì— ê²Œì´íŠ¸ì›¨ì´ë¥¼ êµ¬ì„±í•˜ê¸° ìœ„í•´ `ip route add`  ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰. ê·¸ë¦¬ê³  192.168.1.1  ê²Œì´íŠ¸ì›¨ì´ë¥¼ í†µí•´ 192.168.2.0ì— ë„ë‹¬í•  ìˆ˜ ìˆë„ë¡ ëª…ì‹œ. `route` ëª…ë ¹ì–´ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´ ì¶”ê°€ëœ ê²½ë¡œê°€ ë³´ì„.  â†’ ëª¨ë“  ì‹œìŠ¤í…œì—ì„œ êµ¬ì„±í•´ì•¼ í•¨.


ì´ëŸ¬í•œ ì‹œìŠ¤í…œì— ì¸í„°ë„· ì•¡ì„¸ìŠ¤ê°€ í•„ìš”í•˜ë‹¤ê³  ê°€ì •. 172.217.194.0 êµ¬ê¸€ì— ì ‘ê·¼í•˜ë ¤ê³  í•¨. ì¸í„°ë„·ì— ë¼ìš°í„°ë¥¼ ì—°ê²°í•˜ê³  ë¼ìš°íŒ… í…Œì´ë¸”ì— ìƒˆ ê²½ë¡œ ì¶”ê°€.


ì¸í„°ë„·ì—ëŠ” ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ì— ìˆ˜ë§ì€ ë‹¤ì–‘í•œ ì‚¬ì´íŠ¸ê°€ ìˆìŒ. ë™ì¼í•œ ë¼ìš°í„° IP ì£¼ì†Œë¥¼ ë¼ìš°íŒ… í…Œì´ë¸”ì— ì¶”ê°€í•˜ëŠ” ëŒ€ì‹  ê²½ë¡œë¥¼ ëª¨ë¥´ëŠ” ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•´ ì´ ë¼ìš°í„°ë¥¼ ê¸°ë³¸  ê²Œì´íŠ¸ì›¨ì´ë¡œ ì‚¬ìš©í•˜ë¼ê³  ê°„ë‹¨íˆ ë§í•  ìˆ˜ ìˆìŒ. ì´ë ‡ê²Œ í•˜ë©´ ê¸°ì¡´ ë„¤íŠ¸ì›Œí¬ ì™¸ë¶€ì˜ ëª¨ë“  ë„¤íŠ¸ì›Œí¬ì— ëŒ€í•œ ìš”ì²­ì´ ì´ íŠ¹ì • ë¼ìš°í„°ë¡œ ì „ë‹¬ë¨. ë”°ë¼ì„œ ì´ì™€ ê°™ì€ ê°„ë‹¨í•  ì„¤ì •ì—ì„œëŠ” ë¼ìš°í„°ì˜ IP ì£¼ì†Œì— ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ê°€ ì„¤ì •ëœ ë‹¨ì¼ ë¼ìš°íŒ… í…Œì´ë¸” í•­ëª©ë§Œ ìˆìœ¼ë©´ ë¨. defaultëŒ€ì‹  0.0.0.0ì´ë¼ê³ ë„ í•¨. ëª¨ë“  IP ë„ì°©ì§€.


ê²Œì´íŠ¸ì›¨ì´ í•„ë“œì— 0.0.0.0ì´ í•­ëª©ì´ ìˆìœ¼ë©´ ê²Œì´íŠ¸ì›¨ì´ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ë‚˜íƒ€ëƒ„. ì˜ˆë¥¼ ë“¤ì–´, ì‹œìŠ¤í…œ Cê°€ 192.168.2.0 ë„¤íŠ¸ì›Œí¬ì˜ ì¥ì¹˜ì— ì•¡ì„¸ìŠ¤í•˜ë ¤ë©´ ìì²´ ë„¤íŠ¸ì›Œí¬ì— ìˆê¸° ë•Œë¬¸ì— ê²Œì´íŠ¸ì›¨ì´ê°€ í•„ìš”í•˜ì§€ ì•ŠìŒ. ê·¸ëŸ¬ë‚˜ ì—¬ëŸ¬ ë¼ìš°í„°ê°€ ìˆë‹¤ê³  ê°€ì •. í•˜ë‚˜ëŠ” ì¸í„°ë„·ì„ ìœ„í•œ ê²ƒì´ê³ , ë‹¤ë¥¸ í•˜ë‚˜ëŠ” ë‚´ë¶€ ì‚¬ì„¤ë§ì„ ìœ„í•œ ê²ƒ. ê° ë„¤íŠ¸ì›Œí¬ë§ˆë‹¤ ë‘ ê°œì˜ ê°œë³„ í•­ëª©ì´ ìˆì–´ì•¼ í•¨. ë‚´ë¶€ ì‚¬ì„¤ ë„¤íŠ¸ì›Œí¬ë¥¼ ìœ„í•œ í•˜ë‚˜ì˜ í•­ëª©ê³¼ ê³µìš© ë„¤íŠ¸ì›Œí¬ë¥¼ í¬í•¨í•œ ëª¨ë“  ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ë¥¼ ìœ„í•œ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ê°€ ìˆëŠ” ë‹¤ë¥¸ í•­ëª©. ë”°ë¼ì„œ, ì‹œìŠ¤í…œì—ì„œ ì¸í„°ë„·ì— ì—°ê²°í•˜ëŠ” ë° ë¬¸ì œê°€ ìˆëŠ” ê²½ìš° ì´ ë¼ìš°íŒ… í…Œì´ë¸”ê³¼ ê¸°ë³¸ ê²Œì´íŠ¸ì›¨ì´ êµ¬ì„±ì„ ì‹œì‘í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ.

> ë¦¬ëˆ…ìŠ¤ í˜¸ìŠ¤íŠ¸ë¥¼ ë¼ìš°í„°ë¡œ ì„¤ì •í•˜ëŠ” ë°©ë²•

A, B, C í˜¸ìŠ¤íŠ¸ê°€ ìˆìŒ. Aì™€ BëŠ” 192.168.1.0ì— ì—°ê²°ë¨. Bì™€ CëŠ” 192.168.2.0ì— ì—°ê²°ë¨. BëŠ” eth0ê³¼ eth1 ë‘ ì¸í„°í˜ì´ìŠ¤ë¥¼  ì‚¬ìš©í•˜ì—¬ ë‘ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë¨.


AëŠ” 192.168.1.5ë¥¼ ê°€ì§€ê³  CëŠ” 192.168.2.5ë¥¼ ê°€ì§. BëŠ” 192.168.1.6ê³¼ 192.168.2.6 ë„¤íŠ¸ì›Œí¬ë¥¼ ê°€ì§.


Aì—ì„œ Cë¡œ ë„ë‹¬í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ëŠ”ê°€? Aì—ì„œ 192.168.2.5ë¡œ pingì„ ë³´ë‚´ë©´ ë„ë‹¬í•˜ì§€ ì•ŠìŒ. â†’ Aì—ê²Œ ë„¤íŠ¸ì›Œí¬ 2ì˜ ê²Œì´íŠ¸ì›¨ì´ê°€ Bë¥¼ í†µí•´ ì—´ë ¤ ìˆìŒì„ ì•Œë ¤ì•¼ í•¨. ê·¸ë¦¬ê³  ë¼ìš°íŒ… í…Œì´ë¸”ì—  ì¶”ê°€. ê²Œì´íŠ¸ì›¨ì´ 192.168.1.6dì— ëŒ€í•´ 192.168.2.0 ë„¤íŠ¸ì›Œí¬ë¥¼ ì—°ê²°í•˜ë„ë¡ ê²½ë¡œ ì¶”ê°€. íŒ¨í‚·ì´ Cë¡œ ì „ë‹¬ë˜ë ¤ë©´ í˜¸ìŠ¤íŠ¸ Cê°€ í˜¸ìŠ¤íŠ¸ Aì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ì•¼ í•¨.


CëŠ” 192.168.1.0 ë„¤íŠ¸ì›Œí¬ì˜ Aì— ë„ë‹¬í•˜ë ¤ê³  í•  ë•Œ ê°™ì€ ë¬¸ì œë¥¼ ì§ë©´í•¨. CëŠ” ë¼ìš°í„° ì—­í• ì„ í•˜ëŠ” Bë¥¼ í†µí•´ Aë¡œ ë„ë‹¬í•  ìˆ˜ ìˆìŒì„ ì•Œì•„ì•¼ í•¨. ê·¸ëŸ¬ë¯€ë¡œ C ë¼ìš°íŒ… í…Œì´ë¸”ì—ë„ ë„£ìŒ. pingì„ ë³´ë‚´ë©´ ë” ì´ìƒ ë„ë‹¬í•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ ë©”ì‹œì§€ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ.


## Prerequisite - DNS


## Prerequisite - Network Namespaces


## Prerequisite - Docker Networking


## Prerequisite - CNI


## Cluster Networking


## Practice Test - Explore Kubernetes Environment


## Pod Networking


## CNI in kubernetes


## CNI weave


## Practice Test - Explore CNI


## Practice Test - Deploy Network Solution


## IP Address Management -  Weave


## Practice Test - Networking Weave


## Service Networking


## Practice Test - Service Networking


## DNS in kubernetes


## CoreDNS in kubernetes


## Practice Test - Explore DNS


## Ingress


## Practice Test - Ingress -1


## Practice Test - Ingress -2


## Introduction to Gateway API


## Practice Test - Gateway API

